{"ast":null,"code":"var _jsxFileName = \"/Users/pks.ml/Desktop/GiftApp/gift.me/src/components/home/Home.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport BottomBar from \"../bottomBar/BottomBar\";\nimport ListGroup from \"../listGroup/ListGroup\";\nimport AddItem from \"../addItem/AddItem\";\nimport TopNav from \"../topNav/TopNav\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Home({\n  isLoggedIn,\n  token,\n  clearUser,\n  userId\n}) {\n  _s();\n  const [lists, setLists] = useState([]);\n  const [showTopNav, setShowTopNav] = useState(true);\n  const loginCounter = useRef(0);\n  let listRoute = `http://localhost:4000/lists/list/owner/${userId}`;\n  async function fetchLists() {\n    if (token) try {\n      let response = await fetch(listRoute, {\n        headers: new Headers({\n          \"content-type\": \"application/json\",\n          authorization: token\n        }),\n        method: \"GET\"\n      });\n      console.log(\"response\", response);\n      let results = await response.json();\n      console.log(\"results\", results);\n      if (response.status === 200) {\n        setLists(results.listOwner);\n      } else {\n        console.log(\"No Results\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  const navigate = useNavigate();\n  useEffect(() => {\n    console.log(\"logged in TEST \", isLoggedIn);\n    loginCounter.current++;\n    if (!isLoggedIn.current && loginCounter.current > 1) navigate(\"/auth\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {\n      clearUser: clearUser,\n      showTopNav: showTopNav\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      token: token,\n      fetchLists: fetchLists,\n      lists: lists\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BottomBar, {\n      clearUser: clearUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Home, \"jYgEDES/Cb4d1Es1RTIZ3SE4juo=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useEffect","useRef","BottomBar","ListGroup","AddItem","TopNav","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","isLoggedIn","token","clearUser","userId","_s","lists","setLists","showTopNav","setShowTopNav","loginCounter","listRoute","fetchLists","response","fetch","headers","Headers","authorization","method","console","log","results","json","status","listOwner","error","navigate","current","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/pks.ml/Desktop/GiftApp/gift.me/src/components/home/Home.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport BottomBar from \"../bottomBar/BottomBar\";\nimport ListGroup from \"../listGroup/ListGroup\";\nimport AddItem from \"../addItem/AddItem\";\nimport TopNav from \"../topNav/TopNav\";\nimport { useNavigate } from \"react-router\";\n\nfunction Home({ isLoggedIn, token, clearUser, userId }) {\n  const [lists, setLists] = useState([]);\n  const [showTopNav, setShowTopNav] = useState(true);\n  const loginCounter = useRef(0);\n\n  let listRoute = `http://localhost:4000/lists/list/owner/${userId}`;\n\n  async function fetchLists() {\n    if (token)\n      try {\n        let response = await fetch(listRoute, {\n          headers: new Headers({\n            \"content-type\": \"application/json\",\n            authorization: token,\n          }),\n          method: \"GET\",\n        });\n\n        console.log(\"response\", response);\n        let results = await response.json();\n\n        console.log(\"results\", results);\n        if (response.status === 200) {\n          setLists(results.listOwner);\n        } else {\n          console.log(\"No Results\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n  }\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    console.log(\"logged in TEST \", isLoggedIn);\n    loginCounter.current++;\n    if (!isLoggedIn.current && loginCounter.current > 1) navigate(\"/auth\");\n  }, []);\n\n  return (\n    <>\n      <TopNav clearUser={clearUser} showTopNav={showTopNav} />\n      <ListGroup token={token} fetchLists={fetchLists} lists={lists} />\n      <BottomBar clearUser={clearUser} />\n    </>\n  );\n}\n\nexport default Home;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,SAASC,WAAW,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3C,SAASC,IAAIA,CAAC;EAAEC,UAAU;EAAEC,KAAK;EAAEC,SAAS;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EACtD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAMsB,YAAY,GAAGpB,MAAM,CAAC,CAAC,CAAC;EAE9B,IAAIqB,SAAS,GAAI,0CAAyCP,MAAO,EAAC;EAElE,eAAeQ,UAAUA,CAAA,EAAG;IAC1B,IAAIV,KAAK,EACP,IAAI;MACF,IAAIW,QAAQ,GAAG,MAAMC,KAAK,CAACH,SAAS,EAAE;QACpCI,OAAO,EAAE,IAAIC,OAAO,CAAC;UACnB,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAEf;QACjB,CAAC,CAAC;QACFgB,MAAM,EAAE;MACV,CAAC,CAAC;MAEFC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEP,QAAQ,CAAC;MACjC,IAAIQ,OAAO,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MAEnCH,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEC,OAAO,CAAC;MAC/B,IAAIR,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;QAC3BhB,QAAQ,CAACc,OAAO,CAACG,SAAS,CAAC;MAC7B,CAAC,MAAM;QACLL,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;IACpB;EACJ;EAEA,MAAMC,QAAQ,GAAG/B,WAAW,CAAC,CAAC;EAE9BN,SAAS,CAAC,MAAM;IACd8B,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEnB,UAAU,CAAC;IAC1CS,YAAY,CAACiB,OAAO,EAAE;IACtB,IAAI,CAAC1B,UAAU,CAAC0B,OAAO,IAAIjB,YAAY,CAACiB,OAAO,GAAG,CAAC,EAAED,QAAQ,CAAC,OAAO,CAAC;EACxE,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE7B,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBACE/B,OAAA,CAACH,MAAM;MAACS,SAAS,EAAEA,SAAU;MAACK,UAAU,EAAEA;IAAW;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDnC,OAAA,CAACL,SAAS;MAACU,KAAK,EAAEA,KAAM;MAACU,UAAU,EAAEA,UAAW;MAACN,KAAK,EAAEA;IAAM;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACjEnC,OAAA,CAACN,SAAS;MAACY,SAAS,EAAEA;IAAU;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACnC,CAAC;AAEP;AAAC3B,EAAA,CA/CQL,IAAI;EAAA,QAgCML,WAAW;AAAA;AAAAsC,EAAA,GAhCrBjC,IAAI;AAiDb,eAAeA,IAAI;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}